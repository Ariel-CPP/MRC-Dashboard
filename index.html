<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard CPP</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #003366;
            color: #ffffff;
        }
        .container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: auto;
            gap: 10px;
            padding: 20px;
        }
        .box {
            background-color: #55b4e6;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
        }
        .box:hover {
            background-color: #449dc1;
        }
        .logo {
            grid-column: span 1;
            background-color: #ffffff;
            color: #ff3366;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        h2 {
            margin: 0;
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            color: #000;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }
        .popup .close {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 500;
        }
        .form-button a {
            text-decoration: none;
            color: white;
            background-color: #ff3366;
            padding: 10px 15px;
            border-radius: 5px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Logo CPP -->
        <div class="logo">LOGO CPP</div>

        <!-- Marine Research Centre -->
        <div class="box" onclick="openPopup('popup-mrc')">Marine Research Centre</div>

        <!-- Openweather -->
        <div class="box" id="weather">Openweather</div>

        <!-- Company Updates -->
        <div class="box" id="company-updates">Company Updates</div>

        <!-- Hari dan Tanggal -->
        <div class="box" id="datetime">Hari dan Tanggal Jam</div>

        <!-- Kritik dan Saran -->
        <div class="box" onclick="openPopup('popup-feedback')">Kritik dan Saran</div>

        <!-- Ajukan Cuti -->
        <div class="box form-button">
            <a href="https://forms.gle/mLUiXeiuJq5mgjU17" target="_blank">Ajukan Cuti</a>
        </div>
    </div>

    <!-- Popups -->
    <div class="overlay" id="overlay" onclick="closePopup()"></div>

    <!-- Marine Research Centre Popup -->
    <div class="popup" id="popup-mrc">
        <span class="close" onclick="closePopup()">&times;</span>
        <h2>Marine Research Centre</h2>
        <p>Marine Research Centre (MRC) adalah salah satu departemen di bawah naungan PT Central Proteina Prima, yang tergabung dalam Technology Research Division. MRC bertanggung jawab untuk melaksanakan uji coba (trial) dan inovasi dalam budidaya udang dan ikan. Fokus utama departemen ini adalah melakukan penelitian terapan guna meningkatkan efisiensi dan produktivitas budidaya, baik melalui pengembangan teknologi baru, penerapan teknik budidaya modern, maupun evaluasi produk dan metode yang mendukung keberlanjutan sektor akuakultur. MRC berperan strategis dalam mendukung visi perusahaan untuk menjadi pemimpin dalam industri perikanan dan akuakultur di tingkat global.</p>
    </div>

    <!-- Kritik dan Saran Popup -->
    <div class="popup" id="popup-feedback">
        <span class="close" onclick="closePopup()">&times;</span>
        <h2>Kritik dan Saran</h2>
        <form action="mailto:ariel.hananya@cpp.co.id" method="post" enctype="text/plain">
            <label for="name">Nama:</label><br>
            <input type="text" id="name" name="Nama" required><br><br>
            <label for="message">Pesan:</label><br>
            <textarea id="message" name="Pesan" rows="5" cols="30" required></textarea><br><br>
            <input type="submit" value="Kirim">
        </form>
    </div>

    <script>
        function openPopup(id) {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById(id).style.display = 'block';
        }

        function closePopup() {
            document.getElementById('overlay').style.display = 'none';
            document.querySelectorAll('.popup').forEach(popup => popup.style.display = 'none');
        }

        // Fetch Weather Data
        async function fetchWeather() {
            const apiKey = '77d988f2a3d7db4fcd909c288c1f0d31';
            const url = `https://api.openweathermap.org/data/2.5/weather?q=Suak,Lampung,ID&units=metric&appid=${apiKey}`;
            try {
                const response = await fetch(url);
                const data = await response.json();
                document.getElementById('weather').innerText = `Weather: ${data.main.temp}Â°C, ${data.weather[0].description}`;
            } catch (error) {
                document.getElementById('weather').innerText = 'Unable to fetch weather data';
            }
        }
        fetchWeather();

        // Display Date and Time
        function updateDateTime() {
            const now = new Date();
            const formatted = now.toLocaleString('id-ID');
            document.getElementById('datetime').innerText = formatted;
        }
        setInterval(updateDateTime, 1000);
        updateDateTime();

        // Placeholder for Company Updates
        document.getElementById('company-updates').innerText = 'Top 3 News about Central Proteina Prima';
    </script>
</body>
</html>
